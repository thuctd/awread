<section class="w-full max-w-screen-xl mx-auto px-6 xl:px-10 pt-36 relative">
  <div class="border-b border-gray-300">
    <atom-title [title]="titlePage"></atom-title>
  </div>
  <div class="grid grid-cols-12 gap-2 mt-8 relative">
    <div [ngClass]="filterbook === false ? 'hidden pt-12' : ''" class="bg-white shadow-md absolute top-16 rounded-sm z-40 w-full py-4">
      <molec-search-form (filterBooksEvent)="filterBooksEvent.emit()" [filters]="filtersForm" [genres]="genres"></molec-search-form>
    </div>
    <div class="absolute top-0 right-0">
      <div class="inline-flex">
        <div class="rounded-md text-sm leading-none border-gray-200 mt-1" *ngFor="let action of actions">
          <atom-btn-icon class="{{action.class}}" [icon]="action.faIcon"
            [ngClass]="display === action.display ? 'bg-green-primary text-white': 'bg-white text-green-primary'"
            (eventChangesDisplay)="changeDisplay(action.display)">
          </atom-btn-icon>
        </div>
        <div class="pl-8">
          <atom-btn-rectangle (click)="changeDisplayFilter()" [text]="filterbook ? 'Reset' : 'Lọc truyện'" [class]="'py-1.5 px-4 rounded-lg roboto'"
            (btnClicked)="eventSearch.emit()">
          </atom-btn-rectangle>
        </div>
      </div>
    </div>

    <div class="col-span-2 xl:col-span-8 lg:col-span-9 md:pr-8 xl:pr-2">
      <div class="grid grid-cols-12 gap-2 lg:gap-4 xl:gap-6 border-b border-gray-300">
        <div class="col-span-2 md:col-span-3"
          [ngClass]="selectedTabCategoryId === tabAll.categoryId ? 'border-b-2 border-green-primary text-green-primary' : 'text-gray-text'">
          <molec-tab-categories (switchTabEvent)="switchTabEvent.emit($event)" [tab]="tabAll"></molec-tab-categories>
        </div>
        <ng-container *ngFor="let tab of tabsHead">
          <div class="col-span-2 md:col-span-3"
            [ngClass]="selectedTabCategoryId === tab.categoryId ? 'border-b-2 border-green-primary text-green-primary' : 'text-gray-text'">
            <molec-tab-categories (switchTabEvent)="switchTabEvent.emit($event)" [tab]="tab">
            </molec-tab-categories>
          </div>
        </ng-container>
      </div>
      <div [ngClass]="filterbook === false ? 'pt-12' : 'pt-28'">
        <div class="flex justify-center items-center pt-48" *ngIf="loading;else loaded">
          <awread-loading></awread-loading>
        </div>
        <ng-template #loaded>
          <list-detail-long-book (moreEvent)="moreBooks.emit($event)" [longbooks]="categoryBooks" [display]="display" [categoryId]="selectedTabCategoryId">
          </list-detail-long-book>
        </ng-template>
      </div>
    </div>
    <div class="lg:hidden xl:block lg:col-span-1"></div>
    <div class="col-span-2 md:col-span-3">
      <list-detail-top-book (moreEvent)="filterTopBooks()" [ngClass]="filterbook === false ? 'pt-12' : 'pt-32'" [books]="topBookList">
      </list-detail-top-book>
    </div>
  </div>
</section>