<div class="pt-12">
  <!-- <pre> {{ books | json }} </pre> -->
  <div class="flex justify-center items-center loading" *ngIf="loading;else loaded">
    <awread-loading></awread-loading>
  </div>
  <ng-template #loaded>
    <ng-container *ngIf="books.length;else noData">
      <div class="text-right pb-10">
        <atom-upload-story-btn [href]="['/detail-book']"></atom-upload-story-btn>
      </div>
      <div class="mb-4">
        <molec-wrt-book-list-head></molec-wrt-book-list-head>
      </div>

      <infinite-scroll #infiniteScroll (scrolled)="moreEvent.next()">
        <div *ngFor="let book of books ;" class="grid grid-cols-12 gap-6 bg-white pt-4">
          <div class="col-span-2 md:col-span-5 pl-8">
            <molec-wrt-book-list-info [href]="['/list', book.bookId, 'toc']" (openDetailBookEvent)="openDetailBook()" [book]="book">
            </molec-wrt-book-list-info>
          </div>
          <div class="col-span-2 md:col-span-4 text-center">
            <molec-wrt-book-list-chapter [book]="book"></molec-wrt-book-list-chapter>
          </div>
          <div class="col-span-2 md:col-span-3 pr-8">
            <molec-wrt-book-list-act [bookId]="book.bookid" (updateBookStatusEvent)="updateBookStatusEvent.emit($event)"
              (addChapterEvent)="addChapterEvent.emit($event)" (removeBookEvent)="removeBookEvent.emit($event)"></molec-wrt-book-list-act>
          </div>
        </div>
      </infinite-scroll>

    </ng-container>
    <ng-template #noData>
      <div class="no-data flex justify-center items-center">
        <atom-upload-story-btn [href]="['/detail-book']"></atom-upload-story-btn>
        <p class="text-center pt-8">Không có truyện nào!</p>
      </div>
    </ng-template>
  </ng-template>
</div>