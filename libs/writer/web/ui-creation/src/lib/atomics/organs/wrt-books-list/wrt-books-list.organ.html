<div class="pt-12">
  <div class="flex justify-center items-center loading" *ngIf="loading;else loaded">
    <awread-loading></awread-loading>
  </div>
  <ng-template #loaded>
    <ng-container *ngIf="books?.length;else noData">
      <div class="text-right pb-10">
        <cr-submit-btn class="w-full" (btnClicked)="bookEvent.emit({ type: 'create' })" [faIcon]="faIcon" [submitText]="'Đăng truyện'">
        </cr-submit-btn>
      </div>
      <div class="mb-4">
        <molec-wrt-book-list-head></molec-wrt-book-list-head>
      </div>

      <infinite-scroll #infiniteScroll (scrollIsIntersecting)="bookEvent.emit({ type: 'more' })">
        <div *ngFor="let book of books ;" class="grid grid-cols-12 gap-6 bg-white pt-4">
          <div class="col-span-2 md:col-span-5 pl-8">
            <molec-wrt-book-list-info (bookEvent)="bookEvent.emit($event)" [book]="book">
            </molec-wrt-book-list-info>
          </div>
          <div class="col-span-2 md:col-span-4 text-center">
            <molec-wrt-book-list-chapter [book]="book"></molec-wrt-book-list-chapter>
          </div>
          <div class="col-span-2 md:col-span-3 pr-8">
            <molec-wrt-book-list-act [actions]="data.actions" [btns]="data.btns" [bookId]="book.bookId" (bookEvent)="bookEvent.emit($event)">
            </molec-wrt-book-list-act>
          </div>
        </div>
      </infinite-scroll>

    </ng-container>
    <ng-template #noData>
      <div class="no-data flex flex-col items-center">
        <div class="text-center py-8">Bạn chưa có truyện nào, vui lòng ấn nút "Đăng truyện" để thêm truyện mới.</div>
        <cr-submit-btn (btnClicked)="bookEvent.emit({ type: 'create' })" [faIcon]="faIcon" [submitText]="'Đăng truyện'">
        </cr-submit-btn>
      </div>
    </ng-template>
  </ng-template>
</div>