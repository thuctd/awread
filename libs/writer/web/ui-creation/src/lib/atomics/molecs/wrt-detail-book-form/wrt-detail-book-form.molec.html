<form [formGroup]="bookForm" class="px-3" autocomplete="off">
  <detail-input-form [inputControl]="bookForm.get('title')" [titleLabel]="formInformation.title.display" [placeholder]=" formInformation.title.display">
    <div *ngIf="bookForm.controls.title.errors" class="invalid-feedback">
      <div *ngIf="bookForm.controls.title.errors.required">
        Tiêu đề không được để trống
      </div>
    </div>
  </detail-input-form>

  <detail-textarea-form [inputControl]="bookForm.get('description')" [titleLabel]="formInformation.description.display"
    [placeholder]="formInformation.description.placeholder"></detail-textarea-form>

  <!-- <detail-input-form
    [inputControl]="bookForm.get('categorid')"
    [titleLabel]="formInformation.tags.display | titlecase"
    [placeholder]="formInformation.tags.placeholder | titlecase"
  ></detail-input-form> -->

  <div class="md:flex mb-6">
    <div class="xl:w-96 lg:w-80 md:w-64">
      <label class="block text-gray-500 md:mt-2 font-bold md:text-left mb-1 md:mb-0 text-xl" for="inline-full-name">
        {{formInformation.category.display}}
      </label>
    </div>
    <div class="md:w-full">
      <!-- <ng-select [formControlName]="bookForm.get('categoryname')" class="custom" [items]="items" bindLabel="name" placeholder="Thể loại" appendTo="body" multiple="true">
      </ng-select> -->

      <ng-select class="custom" [items]="categories" bindValue="categoryId" [multiple]="false" bindLabel="name" placeholder="Danh mục"
        formControlName="categoryId">
      </ng-select>
      <div *ngIf="bookForm.controls.categoryId.errors" class="invalid-feedback">
        <div *ngIf="bookForm.controls.categoryId.errors.required">
          Danh mục không được để trống
        </div>
      </div>
    </div>
  </div>

  <div class="md:flex mb-6">
    <div class="xl:w-96 lg:w-80 md:w-64">
      <label class="block text-gray-500 md:mt-2 font-bold md:text-left mb-1 md:mb-0 text-xl" for="inline-full-name">
        {{ formInformation.genres.display }}
        <pre> {{ genres | json }} </pre>
        <pre> {{ bookForm.value.genreIds | json }} </pre>
      </label>
    </div>
    <div class="md:w-full">
      <!-- <ng-select [formControlName]="bookForm.get('categoryname')" class="custom" [items]="items" bindLabel="name" placeholder="Thể loại" appendTo="body" multiple="true">
      </ng-select> -->



      <ng-select class="custom" [items]="genres" bindValue="genreId" [multiple]="true" bindLabel="name" formControlName="genreIds" placeholder="Thể loại"
        (add)="addItem($event)" (remove)="removeItem($event)">
      </ng-select>
      <div *ngIf="bookForm.controls.genreIds.errors" class="invalid-feedback">
        <div *ngIf="bookForm.controls.genreIds.errors.required">
          Thể loại không được để trống
        </div>
      </div>
    </div>
  </div>

  <!-- Tags -->
  <!-- <detail-input-form [titleLabel]="formInformation.tags.display" [placeholder]="formInformation.tags.placeholder"></detail-input-form> -->

  <!-- Tags -->

  <!-- <div class="md:flex mb-6">
    <div class="md:w-1/3">
      <label
        class="block text-gray-500 md:mt-2 font-bold md:text-left mb-1 md:mb-0"
        for="inline-full-name"
      >
      {{formInformation.genres.display | titlecase}}
      </label>
    </div>
    <div class="md:w-2/3">
      <app-genres
        mode="object"
        [bookForm]="bookForm"
        [genres]="genres"
        (genresEvent)="genresEvent.emit($event)"
      ></app-genres>
    </div>
  </div> -->

  <!-- Audience -->

  <div class="md:flex mb-6">
    <div class="xl:w-96 lg:w-80 md:w-64">
      <label class="block text-gray-500 md:mt-2 font-bold md:text-left mb-1 md:mb-0 text-xl" for="inline-full-name">
        {{formInformation.target.display}}
      </label>
    </div>
    <div class="md:w-full">
      <!-- <ng-select [formControlName]="bookForm.get('categoryname')" class="custom" [items]="items" bindLabel="name" placeholder="Thể loại" appendTo="body" multiple="true">
      </ng-select> -->

      <ng-select class="custom" [items]="ages" bindValue="id" bindLabel="name" formControlName="age" placeholder="Đối tượng độc giả">
      </ng-select>
    </div>
  </div>

  <!-- Audience -->

  <detail-toogle-form [inputControl]="bookForm.get('completed')" [titleLabel]="formInformation.completed.display"></detail-toogle-form>
</form>